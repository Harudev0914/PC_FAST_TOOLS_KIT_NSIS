<!-- ---------
2025-12-05
개발자 : KR_Tuki
기능 : 메인 HTML 파일
--------- -->

<!-- @index.html (1-60) -->
<!-- 날짜: 2025-12-05 -->
<!-- HTML 요소 설명: -->
<!-- - <html lang="ko">: HTML 문서 루트 요소, 한국어 설정 -->
<!-- - <head>: 문서 메타데이터 영역 (문자 인코딩, 뷰포트, CSP, 제목 등) -->
<!--   사용 예: <meta charset="UTF-8"> - UTF-8 인코딩 설정, <meta name="viewport"> - 반응형 뷰포트 설정 -->
<!-- - <meta http-equiv="Content-Security-Policy">: CSP 정책 설정. XSS 공격 방지 -->
<!--   정책 내용: default-src 'self' - 기본 소스는 자기 자신만 허용, script-src 'self' 'unsafe-inline' 'unsafe-eval' - 스크립트 실행 정책 -->
<!--   img-src 'self' data: https: - 이미지 소스 허용, connect-src 'self' ws://127.0.0.1:* - WebSocket 연결 허용 -->
<!-- - <body>: 문서 본문 영역, React 앱이 마운트될 root div 포함 -->
<!-- - <script type="module">: ES6 모듈 형식으로 React 앱 진입점 로드 -->
<!-- 변수 설명: -->
<!--   - window.devtools: 프로덕션 모드에서 DevTools 접근 차단용 속성 -->
<!--   - window.__REACT_DEVTOOLS_GLOBAL_HOOK__: React DevTools 훅 차단 -->
<!--   - devtools: DevTools 열림 감지용 플래그 -->
<!--   - element: DevTools 감지를 위한 더미 Image 객체 -->
<!-- 기능 원리: -->
<!-- 1. React 앱 마운트: <div id="root">에 React 앱이 렌더링됨 -->
<!-- 2. 보안 설정 (프로덕션 모드): -->
<!--    - CSP 정책으로 외부 스크립트 실행 제한 -->
<!--    - DevTools 차단: Object.defineProperty로 window.devtools, __REACT_DEVTOOLS_GLOBAL_HOOK__ 차단 -->
<!--    - DevTools 감지: Image 객체의 id getter를 이용한 DevTools 열림 감지 -->
<!--    - 단축키 차단: F12, Ctrl+Shift+I/J/C, Ctrl+U 등 차단 -->
<!--    - 우클릭 메뉴 차단: context-menu 이벤트 차단 -->
<!--    - 텍스트 선택 차단: selectstart 이벤트 차단 -->
<!-- 3. 개발 모드에서는 보안 기능 비활성화 (localhost, dev 프로토콜 확인) -->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' ws://127.0.0.1:* http://127.0.0.1:*;" />
    <title>PC Optimizer</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      if (!window.location.protocol.includes('dev') && !window.location.href.includes('localhost')) {
        Object.defineProperty(window, 'devtools', { get: () => {}, set: () => {} });
        Object.defineProperty(window, '__REACT_DEVTOOLS_GLOBAL_HOOK__', { get: () => {}, set: () => {} });
        
        let devtools = false;
        const element = new Image();
        Object.defineProperty(element, 'id', {
          get: function() {
            devtools = true;
            return '';
          }
        });
        setInterval(() => {
          devtools = false;
          console.log(element);
          if (devtools) {
            document.body.innerHTML = '<h1 style="text-align:center;padding:50px;color:#e74c3c;">보안 정책에 의해 접근이 제한되었습니다.</h1>';
            window.location.reload();
          }
        }, 1000);
        
        document.addEventListener('keydown', (e) => {
          if (e.key === 'F12' || 
              (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) ||
              (e.ctrlKey && e.key === 'U')) {
            e.preventDefault();
            return false;
          }
        });
        
        document.addEventListener('contextmenu', (e) => {
          e.preventDefault();
          return false;
        });
        
        document.addEventListener('selectstart', (e) => {
          e.preventDefault();
          return false;
        });
      }
    </script>
  </body>
</html>
